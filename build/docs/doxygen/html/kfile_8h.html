<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GNU Radio&#39;s LILACSAT Package: kfile.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GNU Radio&#39;s LILACSAT Package
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('kfile_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">kfile.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Virtual <a class="el" href="structKFile.html">KFile</a> I/O interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bertos_8h_source.html">bertos.h</a>&quot;</code><br/>
</div>
<p><a href="kfile_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structKFile.html">KFile</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5137f80da20dbbbb731a84c9671612cd"><td class="memItemLeft" align="right" valign="top">typedef int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a></td></tr>
<tr class="memdesc:a5137f80da20dbbbb731a84c9671612cd"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structKFile.html">KFile</a> offset type, used by kfile_seek().  <a href="#a5137f80da20dbbbb731a84c9671612cd">More...</a><br/></td></tr>
<tr class="separator:a5137f80da20dbbbb731a84c9671612cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7f0c0711ae47d39c6843c0a6e2d5bc"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00">KSeekMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a4e7f0c0711ae47d39c6843c0a6e2d5bc">KSeekMode</a></td></tr>
<tr class="separator:a4e7f0c0711ae47d39c6843c0a6e2d5bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92a6e896c812fb0d76d0e7824e6551a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structKFile.html">KFile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#aa92a6e896c812fb0d76d0e7824e6551a">KFile</a></td></tr>
<tr class="separator:aa92a6e896c812fb0d76d0e7824e6551a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a3fe0b350689819452c2c5b973bd944f1"><td class="memItemLeft" align="right" valign="top">typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a3fe0b350689819452c2c5b973bd944f1">ReadFunc_t</a> )(struct <a class="el" href="structKFile.html">KFile</a> *fd, void *buf, uint32_t size)</td></tr>
<tr class="separator:a3fe0b350689819452c2c5b973bd944f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b78084d423d1e90e680d7a1d0dc26ba"><td class="memItemLeft" align="right" valign="top">typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a0b78084d423d1e90e680d7a1d0dc26ba">WriteFunc_t</a> )(struct <a class="el" href="structKFile.html">KFile</a> *fd, const void *buf, uint32_t size)</td></tr>
<tr class="separator:a0b78084d423d1e90e680d7a1d0dc26ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3505f08a364509144795a9d1601b0ead"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a3505f08a364509144795a9d1601b0ead">SeekFunc_t</a> )(struct <a class="el" href="structKFile.html">KFile</a> *fd, <a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a> offset, <a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00">KSeekMode</a> whence)</td></tr>
<tr class="separator:a3505f08a364509144795a9d1601b0ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cd2f400c6b4eecf7ee53886ae596f54"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structKFile.html">KFile</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a2cd2f400c6b4eecf7ee53886ae596f54">ReOpenFunc_t</a> )(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:a2cd2f400c6b4eecf7ee53886ae596f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3a8e5d8c3b9c3c13cd6f240b04992d"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#ada3a8e5d8c3b9c3c13cd6f240b04992d">CloseFunc_t</a> )(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:ada3a8e5d8c3b9c3c13cd6f240b04992d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab35c0a62181a374d96957f14454d6e"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a7ab35c0a62181a374d96957f14454d6e">FlushFunc_t</a> )(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:a7ab35c0a62181a374d96957f14454d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190aad2c7706fa21ae066b36e350faf0"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a190aad2c7706fa21ae066b36e350faf0">ErrorFunc_t</a> )(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:a190aad2c7706fa21ae066b36e350faf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6715250d8ae8f0e18fbf26e1c75dd5"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a8d6715250d8ae8f0e18fbf26e1c75dd5">ClearErrFunc_t</a> )(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:a8d6715250d8ae8f0e18fbf26e1c75dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8f7714669a9397929a467e1d0d458e00"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00">KSeekMode</a> { <a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00aad38c62dd35ece8c8aa9c609f4f59b2e">KSM_SEEK_SET</a>, 
<a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00a3740314166f470d8abef3b9cbe8c3ce7">KSM_SEEK_CUR</a>, 
<a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00aa091a159fb371f5e63f0fa8087904e1a">KSM_SEEK_END</a>
 }</td></tr>
<tr class="separator:a8f7714669a9397929a467e1d0d458e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acac5698d355a3750f4b07415090ed7a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#acac5698d355a3750f4b07415090ed7a4">kfile_genericSeek</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd, <a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a> offset, <a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00">KSeekMode</a> whence)</td></tr>
<tr class="separator:acac5698d355a3750f4b07415090ed7a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1f5efe44ff91c5bea49f88f356059a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a1f1f5efe44ff91c5bea49f88f356059a">kfile_genericReopen</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:a1f1f5efe44ff91c5bea49f88f356059a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32306b8d90302fa70007aff8c1189bc5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a32306b8d90302fa70007aff8c1189bc5">kfile_genericClose</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:a32306b8d90302fa70007aff8c1189bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480c14426dc77cdfd786c3b5b9a9adf2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a480c14426dc77cdfd786c3b5b9a9adf2">kfile_putc</a> (int <a class="el" href="satellite__channel__cc__impl_8h.html#aafc737ea9ef91f59cf9acd287fb8d085">c</a>, struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="memdesc:a480c14426dc77cdfd786c3b5b9a9adf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic putc implementation using kfile_write.  <a href="#a480c14426dc77cdfd786c3b5b9a9adf2">More...</a><br/></td></tr>
<tr class="separator:a480c14426dc77cdfd786c3b5b9a9adf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09cca6f02dc337ddff2b36b66a3fdd1c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a09cca6f02dc337ddff2b36b66a3fdd1c">kfile_getc</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="memdesc:a09cca6f02dc337ddff2b36b66a3fdd1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic getc implementation using kfile_read.  <a href="#a09cca6f02dc337ddff2b36b66a3fdd1c">More...</a><br/></td></tr>
<tr class="separator:a09cca6f02dc337ddff2b36b66a3fdd1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba6667da830aba35851b4c70d8783dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#aaba6667da830aba35851b4c70d8783dd">kfile_print</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd, const char *s)</td></tr>
<tr class="separator:aaba6667da830aba35851b4c70d8783dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af33cb00f56adefabb98d534d526525eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#af33cb00f56adefabb98d534d526525eb">kfile_gets</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd, char *buf, int size)</td></tr>
<tr class="separator:af33cb00f56adefabb98d534d526525eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146ed5c09d27f419f4c44344d8845330"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a146ed5c09d27f419f4c44344d8845330">kfile_gets_echo</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd, char *buf, int size, bool echo)</td></tr>
<tr class="separator:a146ed5c09d27f419f4c44344d8845330"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2185b090d77fbb33ab01da3f22a8a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#ada2185b090d77fbb33ab01da3f22a8a9">kfile_init</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:ada2185b090d77fbb33ab01da3f22a8a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9638c7d7f76976a58ceb670c28e13c39"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a9638c7d7f76976a58ceb670c28e13c39">kfile_error</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:a9638c7d7f76976a58ceb670c28e13c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a4b4a6c5b44f6377e51e7484650324"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="kfile_8h.html#a40a4b4a6c5b44f6377e51e7484650324">kfile_clearerr</a> (struct <a class="el" href="structKFile.html">KFile</a> *fd)</td></tr>
<tr class="separator:a40a4b4a6c5b44f6377e51e7484650324"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Virtual <a class="el" href="structKFile.html">KFile</a> I/O interface. </p>
<p><a class="el" href="structKFile.html">KFile</a> is a simple, generic interface for file I/O. It uses an object-oriented model to supply a device-neutral interface to communicate with drivers.</p>
<p>This module contains only definitions, the instance structure and the common API. Each <a class="el" href="structKFile.html">KFile</a> subclass can override one or more methods of the interface, and can extend the base <a class="el" href="structKFile.html">KFile</a> structure with its own private data. For instance, a serial driver might implement the <a class="el" href="structKFile.html">KFile</a> interface by declaring a context structure like this:</p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>Serial</div>
<div class="line">{</div>
<div class="line">     <span class="comment">// base class instance</span></div>
<div class="line">     <a class="code" href="structKFile.html">KFile</a> fd;</div>
<div class="line"></div>
<div class="line">     <span class="comment">// private instance data</span></div>
<div class="line">     <a class="code" href="structFIFOBuffer.html">FIFOBuffer</a> txfifo, rxfifo;</div>
<div class="line">} Serial;</div>
</div><!-- fragment --><p>You should also supply a macro for casting <a class="el" href="structKFile.html">KFile</a> to Serial:</p>
<div class="fragment"><div class="line"><a class="code" href="bertos_8h.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> Serial * SERIAL_CAST(<a class="code" href="structKFile.html">KFile</a> *fd)</div>
<div class="line">{</div>
<div class="line">        ASSERT(fd-&gt;_type == KFT_SERIAL);</div>
<div class="line">        <span class="keywordflow">return</span> (Serial *)fd;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Then you can implement as many interface functions as needed and leave the rest to NULL.</p>
<p>Example implementation of the close <a class="el" href="structKFile.html">KFile</a> method for Serial:</p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">int</span> ser_kfile_close(<span class="keyword">struct</span> <a class="code" href="structKFile.html">KFile</a> *fd)</div>
<div class="line">{</div>
<div class="line">        Serial *fds = SERIAL_CAST(fd);</div>
<div class="line">     <span class="comment">// [driver specific code here]</span></div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The SERIAL_CAST() macro helps ensure that the passed object is really of type Serial.</p>
<p>The <a class="el" href="structKFile.html">KFile</a> interface does not supply an open function: this is deliberate, because in embedded systems each device has its own init parameters. For the same reason, specific device settings like, for example, the baudrate, are not part of interface and should be handled by the driver-specific API.</p>
<dl class="section version"><dt>Version</dt><dd></dd></dl>
<dl class="section rcs"><dt>Id:</dt><dd><a class="el" href="kfile_8h.html" title="Virtual KFile I/O interface. ">kfile.h</a> 2975 2009-09-27 13:21:27Z batt </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Bernie Innocenti <a href="#" onclick="location.href='mai'+'lto:'+'ber'+'ni'+'e@c'+'od'+'ewi'+'z.'+'org'; return false;">berni<span style="display: none;">.nosp@m.</span>e@co<span style="display: none;">.nosp@m.</span>dewiz<span style="display: none;">.nosp@m.</span>.org</a> </dd>
<dd>
Francesco Sacchi <a href="#" onclick="location.href='mai'+'lto:'+'bat'+'t@'+'dev'+'el'+'er.'+'co'+'m'; return false;">batt@<span style="display: none;">.nosp@m.</span>deve<span style="display: none;">.nosp@m.</span>ler.c<span style="display: none;">.nosp@m.</span>om</a> </dd>
<dd>
Daniele Basile <a href="#" onclick="location.href='mai'+'lto:'+'ast'+'er'+'ix@'+'de'+'vel'+'er'+'.co'+'m'; return false;">aster<span style="display: none;">.nosp@m.</span>ix@d<span style="display: none;">.nosp@m.</span>evele<span style="display: none;">.nosp@m.</span>r.co<span style="display: none;">.nosp@m.</span>m</a></dd></dl>
<p>$WIZ$ module_name = "kfile" $WIZ$ module_configuration = "bertos/cfg/cfg_kfile.h" $WIZ$ module_depends = "timer", "formatwr" </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a8d6715250d8ae8f0e18fbf26e1c75dd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ClearErrFunc_t)(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear errors. </p>

</div>
</div>
<a class="anchor" id="ada3a8e5d8c3b9c3c13cd6f240b04992d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* CloseFunc_t)(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close file. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, EOF on errors. </dd></dl>

</div>
</div>
<a class="anchor" id="a190aad2c7706fa21ae066b36e350faf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ErrorFunc_t)(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get file error mask. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success or file error code, device specific. </dd></dl>

</div>
</div>
<a class="anchor" id="a7ab35c0a62181a374d96957f14454d6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* FlushFunc_t)(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flush file I/O. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, EOF on errors. </dd></dl>

</div>
</div>
<a class="anchor" id="aa92a6e896c812fb0d76d0e7824e6551a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structKFile.html">KFile</a>  <a class="el" href="structKFile.html">KFile</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Context data for callback functions which operate on pseudo files.</p>
<dl class="section note"><dt>Note</dt><dd>Remember to add the corresponding accessor functions when extending this interface. </dd></dl>

</div>
</div>
<a class="anchor" id="a5137f80da20dbbbb731a84c9671612cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int32_t <a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="structKFile.html">KFile</a> offset type, used by kfile_seek(). </p>

</div>
</div>
<a class="anchor" id="a4e7f0c0711ae47d39c6843c0a6e2d5bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00">KSeekMode</a>  <a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00">KSeekMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Costants for repositioning read/write file offset. These are needed because on some embedded platforms ANSI I/O library may not be present. </p>

</div>
</div>
<a class="anchor" id="a3fe0b350689819452c2c5b973bd944f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t(* ReadFunc_t)(struct <a class="el" href="structKFile.html">KFile</a> *fd, void *buf, uint32_t size)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prototypes for <a class="el" href="structKFile.html">KFile</a> access functions. I/O file functions must be ANSI compliant. </p>
<dl class="section note"><dt>Note</dt><dd>A <a class="el" href="structKFile.html">KFile</a> user can choose which function subset to implement, but has to set to NULL unimplemented features. Read from file. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes read. </dd></dl>

</div>
</div>
<a class="anchor" id="a2cd2f400c6b4eecf7ee53886ae596f54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structKFile.html">KFile</a>*(* ReOpenFunc_t)(struct <a class="el" href="structKFile.html">KFile</a> *fd)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close and reopen file <em>fd</em>. The reopening is done with the former file parameters and access modes. </p>

</div>
</div>
<a class="anchor" id="a3505f08a364509144795a9d1601b0ead"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a>(* SeekFunc_t)(struct <a class="el" href="structKFile.html">KFile</a> *fd, <a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a> offset, <a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00">KSeekMode</a> whence)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Seek into file (if seekable). </p>
<dl class="section return"><dt>Returns</dt><dd>the new file offset or EOF on errors. </dd></dl>

</div>
</div>
<a class="anchor" id="a0b78084d423d1e90e680d7a1d0dc26ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t(* WriteFunc_t)(struct <a class="el" href="structKFile.html">KFile</a> *fd, const void *buf, uint32_t size)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write to file. </p>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written. </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a8f7714669a9397929a467e1d0d458e00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00">KSeekMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Costants for repositioning read/write file offset. These are needed because on some embedded platforms ANSI I/O library may not be present. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a8f7714669a9397929a467e1d0d458e00aad38c62dd35ece8c8aa9c609f4f59b2e"></a>KSM_SEEK_SET</em>&#160;</td><td class="fielddoc">
<p>Seek from file beginning. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a8f7714669a9397929a467e1d0d458e00a3740314166f470d8abef3b9cbe8c3ce7"></a>KSM_SEEK_CUR</em>&#160;</td><td class="fielddoc">
<p>Seek from file current position. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a8f7714669a9397929a467e1d0d458e00aa091a159fb371f5e63f0fa8087904e1a"></a>KSM_SEEK_END</em>&#160;</td><td class="fielddoc">
<p>Seek from file end. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a40a4b4a6c5b44f6377e51e7484650324"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void kfile_clearerr </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9638c7d7f76976a58ceb670c28e13c39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int kfile_error </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a32306b8d90302fa70007aff8c1189bc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kfile_genericClose </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1f1f5efe44ff91c5bea49f88f356059a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structKFile.html">KFile</a>* kfile_genericReopen </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generic implementation of kfile_reopen. </p>

</div>
</div>
<a class="anchor" id="acac5698d355a3750f4b07415090ed7a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a> kfile_genericSeek </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kfile_8h.html#a5137f80da20dbbbb731a84c9671612cd">kfile_off_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="kfile_8h.html#a8f7714669a9397929a467e1d0d458e00">KSeekMode</a>&#160;</td>
          <td class="paramname"><em>whence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generic implementation of kfile_seek. </p>

</div>
</div>
<a class="anchor" id="a09cca6f02dc337ddff2b36b66a3fdd1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kfile_getc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic getc implementation using kfile_read. </p>

</div>
</div>
<a class="anchor" id="af33cb00f56adefabb98d534d526525eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kfile_gets </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a146ed5c09d27f419f4c44344d8845330"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kfile_gets_echo </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>echo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ada2185b090d77fbb33ab01da3f22a8a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void kfile_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aaba6667da830aba35851b4c70d8783dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kfile_print </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a480c14426dc77cdfd786c3b5b9a9adf2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int kfile_putc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structKFile.html">KFile</a> *&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generic putc implementation using kfile_write. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_265e3f39e0ef762bb9dfff4f90016e8d.html">afsk</a></li><li class="navelem"><a class="el" href="kfile_8h.html">kfile.h</a></li>
    <li class="footer">Generated on Fri Jul 22 2016 18:52:53 for GNU Radio&#39;s LILACSAT Package by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
